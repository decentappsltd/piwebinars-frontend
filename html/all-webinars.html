<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>Pi.init({ version: "2.0" })</script>
<script>

Pi.createPayment({
  amount: 1,
  memo: "Unlock Webinar",
  metadata: { UnlockWebinarOD },
}, {
  onReadyForServerApproval: onReadyForServerApproval,
  onReadyForServerCompletion: onReadyForServerCompletion,
  onCancel: onCancel,
  onError: onError,
});
const paymentResult = await window.Pi.createPayment(paymentData, callbacks);
const axiosClient = axios.create{baseURL: SERVER_URL, timeout: 20000});
const config = {headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*'}};

const onReadyForServerApproval = (paymentId: string) => {
  console.log("onReadyForServerApproval", paymentId);
  return axiosClient.post('/approve', {paymentId}, config);
}

const onReadyForServerCompletion = (paymentId: string, txid: string) => {
  console.log("onReadyForServerCompletion", paymentId);
  return axiosClient.post('/complete', {paymentId}, config);
}

const onCancel = (paymentId: string) => {
  console.log("onCancel", paymentId);
  return axiosClient.post('/cancel', {paymentId}, config):
}

const onError = (error: Error, payment?: PaymentDTO) => {
  console.log("onError", error);
  if (payment) {
    console.log(payment);
    //handle the error
  }
}

function createPayment() {
  var x = document.getElementsByClassName("pay");
}
        </script>

<!DOCTYPE html>
<html>
  <head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="../css/styles.css">
     <link rel="icon" 
      type="image/png" 
      href="../img/logo.png">
    <script>
      if(navigator.userAgent.toLowerCase().indexOf("pibrowser")<0) document.domain!="localhost"&&window.open(window.location.protocol+"//"+document.domain+"/html/home.html","_self");
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@500;700&display=swap" rel="stylesheet">

  </head>
  
  <title>Pi Webinars</title>

  <h1 >Pi Webinars</h1>
  
<nav class="footer" style="z-index: 100">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="search.html">Search</a></li>
    <li><a href="all-webinars.html">All Webinars</a></li>
    <li><a href="upload.html">Upload</a></li>
  </ul>
</nav>  
    
   <h5><i> At mainnet, all webinars will be full length, high quality and origional to this site </i></h5>
  
  <h2 >Technology</h2>
  <br/><br/><br/>
  
  
  <h2 >Fitness</h2>
  <br/><br/><br/>
  
  
  <h2 >Education</h2>
  <br/><br/><br/>
  
  
  <h2 >History</h2>
  <br/><br/><br/>
  
  
  <h2 >Food</h2>
  <br/><br/><br/>
  
  
  <h2 >Nature</h2>
  <br/><br/><br/>
  
  
  <h2 >Sports</h2>
  <br/><br/><br/>
  
  
  <h2 >Politics</h2>
  <br/><br/><br/>
 
  
  <h2 >Money</h2>
  <br/><br/><br/>
  
  
</html>
