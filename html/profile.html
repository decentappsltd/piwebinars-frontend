<!DOCTYPE html>
<html>

<head>
  <!--CSS-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" id="dark">
  <link rel="icon" type="image/png" href="/img/logo.png">

  <!--Google Fonts-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;700&display=swap" rel="stylesheet">
  <title>Pi Webinars || Profile</title>
</head>

<body>
  <div>
    <nav class="footer" style="z-index: 100">
      <ul class="ul">
        <div class="mobile">
          <li class="li"><a class="a" href="/index.html"><img src="https://www.piwebinars.co.uk/img/Home_Icon.png" width="30px;">Home</a></li>
          <li class="li"><a class="a" href="./all-webinars.html"><img src="https://www.piwebinars.co.uk/img/Watch_Icon.png" width="30px;">Webinars</a></li>
          <li class="li"><a class="a" href="./upload.html"><img src="https://www.piwebinars.co.uk/img/Upload_Icon.png" width="30px;">Upload</a></li>
          <li class="li"><a class="a" href="./search.html"><img src="https://www.piwebinars.co.uk/img/Search_Icon.png" width="30px;">Search</a></li>
      </ul>
  </div>
  <div class="row footer desktop">
    <img height="60" onclick="location.href='/'" style="position:relative;top:0;display: inline; float: left;" src="https://www.piwebinars.co.uk/img/logo-text.png" alt="logo"></img>

    <div style="float:right">
      <li class="li"><a class="a" href="/index.html"><img src="https://www.piwebinars.co.uk/img/Home_Icon.png" width="40px;">Home</a></li>
      <li class="li"><a class="a" href="./search.html"><img src="https://www.piwebinars.co.uk/img/Search_Icon.png" width="40px;">Search</a></li>
      <li class="li"><a class="a" href="./upload.html"><img src="https://www.piwebinars.co.uk/img/Upload_Icon.png" width="40px;">Upload</a></li>
      <li class="li"><a class="a" href="./profile.html"><img src="https://www.piwebinars.co.uk/img/Profile_Icon.png" width="40px;">Profile</a></li>
    </div>
  </div>
  </nav>
  
  <div class="desktop"><br><br><br><br><br></div>

  <div id="profile" class="profile">
    <div class="avatar">
      <img class="invert" id="avatar" src="https://www.piwebinars.co.uk/img/avatar.png" alt="avatar"></img>
      <div class="user-details">
        <h1 id="displayFullName"></h1>
        <h3 style="display:inline-block" id="displayUserHandle"></h3>
        <img style="display:inline-block" id="verified_icon"></img>
      </div>
    </div>
    <div class="stats">
      <div class="user_stats">
        <p class="statStyle">Followers <span class="statStyle" id="my_followers"></span></p>
        <p class="statStyle" onclick="seeFollowing()"><u>Following <span class="statStyle" id="my_following"></span></u></p>
        <p class="statStyle">Credit <span class="statStyle" id="my_credit"></span></p>
      </div>
    </div>
    <a class="searchuserbuttonhref" href="./createProfile.html" id="create_profile">Create Profile</a>
  </div>

  <div id="interactWithProfile" style="margin-left: 2.5% ;width: 95%; display: flex; font-size: 20px; border-bottom: solid 1px #000; padding-bottom: 20px;">
    <i style="margin-right: 100px; margin-left: 10vw;" onclick="getProfileURL()" id="buttonURL" class="fas fa-share"></i>
    <i style="margin-right: 100px;" class="fas fa-edit" onclick="editProfile()"></i>
    <i class="fas fa-user-plus" onclick="getReferralURL()"></i>
  </div>

  <input id="urlBar" style="display:none;width:80%;margin-left:10%;" onclick="copyURL()"></input>
  <br><br>

  <div class="mobile" style="border-bottom: 1px solid #000; margin-bottom: 20px;">
    <div class="row" style="margin-bottom: 50px;" onclick="location.href='/html/your-webinars.html';">
      <img class="column invert" style="width: 12%; margin-right: 20px;" src="https://www.piwebinars.co.uk/img/your_webinars.png" alt="sub-logo"></img>
      <h2 class="column">Your Webinars</h2>
    </div>

    <div class="row" style="margin-bottom: 50px;" onclick="location.href='/html/your-purchases.html';">
      <img class="column invert" style="width: 12%; margin-right: 20px;" src="https://www.piwebinars.co.uk/img/purchases.png" alt="sub-logo"></img>
      <h2 class="column">Purchases</h2>
    </div>

    <div class="row" style="margin-bottom: 40px;" onclick="location.href='/html/wishlist.html';">
      <img class="column invert" style="width: 12%; margin-right: 20px;" src="/img/wishlist.jpg" alt="sub-logo"></img>
      <h2 class="column">Wishlist</h2>
    </div>
  </div>

  <div class="desktop">
    <div class="row" style="position: absolute; top: 200; left: 10vw;" onclick="location.href='/html/wishlist.html';">
      <img class="column invert" style="width: 100px;" src="/img/wishlist.jpg" alt="sub-logo"></img>
      <h2 class="column">Wishlist</h2>
    </div>

    <div class="row" style="position: absolute; top: 200; left: 50vw;" onclick="location.href='/html/your-purchases.html';">
      <img class="column invert" style="width: 100px;" src="https://www.piwebinars.co.uk/img/purchases.png" alt="sub-logo"></img>
      <h2 class="column">Purchases</h2>
    </div>
  </div>

  <div style="margin-top: 140px;" class="error_log desktop" id="error_log"></div>
  <div class="mobile" id="error_log"></div>

  <br><br>
  <button class="logout" id="logout">Logout</button>
  <button class="logoutAll" id="logoutAll">Logout All</button>
  <button style="margin-bottom: 50px; padding: 1rem; background: red; color: white;" class="deleteAccount" id="deleteAccount">Delete My Account</button>

  <br><br><br>
  </div>

  <script>
    async function seeFollowing() {
      location.href = '/html/following.html';
    }

    function getProfileURL() {
      const id = sessionStorage.user;
      const url = "https://piwebinars.co.uk/user?u=" + id;
      const urlBar = document.getElementById("urlBar");
      urlBar.style.display = "block";
      urlBar.value = url;
    }

    function getReferralURL() {
      const username = sessionStorage.username;
      const url = "https://piwebinars.co.uk/html/register?r=" + username;
      const urlBar = document.getElementById("urlBar");
      urlBar.style.display = "block";
      urlBar.value = url;
    }

    function copyURL() {
      const url = document.getElementById("urlBar");
      navigator.clipboard.writeText(url.value);
      alert("Copied");
    }
  </script>

  <!--Scripts-->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="/js/pages/authentication.js"></script>
  <script src="/js/pipayment.js"></script>
  <script src="https://kit.fontawesome.com/3aea44e36d.js" crossorigin="anonymous"></script>
</body>

</html>