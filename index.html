<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="icon" 
      type="image/png" 
      href="https://i.postimg.cc/DzynCpk6/pi-webinars-logo-2.png">
  <title>Pi Webinars</title>
  
<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>Pi.init({ version: "2.0" })</script>
  
<script>               
              // Authenticate the user, and get permission to request payments from them:
const scopes = ['username', 'payments'];

// Read more about this callback in the SDK reference:
function onIncompletePaymentFound(payment) { 

};

Pi.authenticate(scopes, onIncompletePaymentFound).then(function(auth) {
  console.log(`Hi there! You're ready to make payments!`);
}).catch(function(error) {
  console.error(error);
});

Pi.createPayment({
  amount: 1,
  memo: "Unlock Webinar",
  metadata: { UnlockWebinarOD },
}, {
  onReadyForServerApproval: onReadyForServerApproval,
  onReadyForServerCompletion: onReadyForServerCompletion,
  onCancel: onCancel,
  onError: onError,
});
const paymentResult = await window.Pi.createPayment(paymentData, callbacks);
const axiosClient = axios.create{baseURL: SERVER_URL, timeout: 20000});
const config = {headers: {'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*'}};
  
const onIncompletePaymentFound = (payment: PaymentDTO) => {
  console.log("onIncompletePaymentFound", payment);
  return axiosClient.post('/incomplete', { payment }, config);
}

const onReadyForServerApproval = (paymentId: string) => {
  console.log("onReadyForServerApproval", paymentId);
  return axiosClient.post('/approve', {paymentId}, config);
}

const onReadyForServerCompletion = (paymentId: string, txid: string) => {
  console.log("onReadyForServerCompletion", paymentId);
  return axiosClient.post('/complete', {paymentId}, config);
}

const onCancel = (paymentId: string) => {
  console.log("onCancel", paymentId);
  return axiosClient.post('/cancel', {paymentId}, config):
}

const onCancel = (paymentId: string) => {
  console.log("onCancel", paymentId);
  return axiosClient.post('/cancel', {paymentId}, config):
}

const onError = (error: Error, payment?: PaymentDTO) => {
  console.log("onError", error);
  if (payment) {
    console.log(payment);
    //handle the error
  }
}

        </script>
    
<h1 >Pi Webinars</h1>
  
<img width="180" height="150" style="position:relative;top:0"
src="https://i.postimg.cc/DzynCpk6/pi-webinars-logo-2.png"</img>
  
<h5>Hi, welcome to Pi Webinars, an educational video platform powered by Pi cryptocurrency.</h5>
  
<nav>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="html/search.html">Search</a></li>
    <li><a href="html/all-webinars.html">All Webinars</a></li>
    <li><a href="html/upload.html">Upload</a></li>
  </ul>
</nav>  
    
<h2 >On Demand</h2>
  
<div>     
  <iframe style="position:relative;top:0;width:100%" src="https://www.youtube.com/embed/KfDB9e_cO4k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>       		    
   <INPUT TYPE="button" class="createPayment" id="createPayment" VALUE="Pay with Pi"            
</div>
  
  <div>
  <iframe style="position:relative;top:0;width:100%"  src="https://www.youtube.com/embed/6dGYVKt1zw4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
   <INPUT TYPE="button" class="createPayment" id="createPayment" VALUE="Pay with Pi" 
          </div>
  
    <div>
  <iframe style="position:relative;top:0;width:100%" src="https://www.youtube.com/embed/cTQ3Ko9ZKg8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
       <INPUT TYPE="button" class="createPayment" id="createPayment" VALUE="Pay with Pi" 
              </div>
  
<h2 >Upcoming Live</h2>
  
<p1 >Live webinars coming soon...</p1>
       
  <h5> At mainnet, all webinars will be full length, high quality and origional to this site </h5>
  
      </html>
