"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Queue = void 0;
/**
 * The request queue manager.
 */
class Queue {
    /**
     * The list of requests to perform.
     */
    promises = [];
    /**
     * The number of requests in the queue.
     */
    get length() {
        return this.promises.length;
    }
    /**
     * Wait for the resolution of first request in the queue.
     */
    wait() {
        let resolve;
        const promise = new Promise(($resolve) => {
            resolve = $resolve;
        });
        this.promises.push({ promise, resolve });
        return this.promises.length > 1 ? this.promises[this.promises.length - 2].promise : Promise.resolve();
    }
    /**
     * Resolve the first request in the queue.
     */
    shift() {
        this.promises.shift()?.resolve();
    }
}
exports.Queue = Queue;
//# sourceMappingURL=Queue.js.map